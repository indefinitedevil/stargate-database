<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Card Timer</title>
</head>
<body>
<div>
    <h2>Quick times</h2>
    <button onclick="setTimeTo(30)">30 seconds</button>
    <button onclick="setTimeTo(60)">60 seconds</button>
    <button onclick="setTimeTo(90)">90 seconds</button>
    <button onclick="setTimeTo(120)">120 seconds</button>
    <button onclick="setTimeTo(150)">150 seconds</button>
    <button onclick="setTimeTo(180)">180 seconds</button>
    <button onclick="setTimeTo(600)">600 seconds</button>
</div>
<div>
    <h2>Discounts</h2>
    <h3>Compound</h3>
    <label><input type="checkbox" name="discount50[card2]"> Card 2 (50%)</label>
    <label><input type="checkbox" name="discount50[card3]"> Card 3 (50%)</label>
    <label><input type="checkbox" name="discount25[card2]"> Card 2 (25%)</label>
    <label><input type="checkbox" name="discount25[card3]"> Card 3 (25%)</label>
    <h3>Additive</h3>
    <label><input type="checkbox" name="discount10[numbers1]"> Numb3rs</label>
    <label><input type="checkbox" name="discount10[numbers2]"> Numb3rs (again)</label>
    <label><input type="checkbox" name="discount10[numbers3]"> Numb3rs (again again)</label>
    <label><input type="checkbox" name="discount10[genetics]"> Genetics</label>
    <label><input type="checkbox" name="discount10[pathology]"> Pathology</label>
</div>
<div>
    <h2>Timer</h2>
    <label for="time_input">Time:
        <input type="number" id="time_input" placeholder="Enter time in seconds">
    </label>
    <button id="start_button">Start Timer</button>
    <div>Time needed: <span id="timer_base">0</span> seconds</div>
    <div>Time remaining: <span id="timer_display">0</span> seconds</div>
</div>
<script>
    let timer;
    let timeLeft = 0;

    function setTimeTo(seconds) {
        setTimeLeft(seconds);
        document.getElementById('time_input').value = timeLeft;
    }

    function setTimeLeft(seconds) {
        stopTimer();
        timeLeft = seconds;
    }

    document.getElementById('start_button').onclick = function () {
        let inputTime = parseInt(document.getElementById('time_input').value);
        if (!isNaN(inputTime) && inputTime > 0) {
            let additiveDiscount = 0;
            const discount10Count = document.querySelectorAll('input[name^=discount10]:checked').length;
            const discount25Count = document.querySelectorAll('input[name^=discount25]:checked').length;
            const discount50Count = document.querySelectorAll('input[name^=discount50]:checked').length;
            if (discount10Count > 0) {
                additiveDiscount += discount10Count * 10;
            }
            if (discount50Count > 0) {
                for (let i = 0; i < discount50Count; i++) {
                    inputTime = Math.round(inputTime * 0.5);
                }
            }
            if (discount25Count > 0) {
                for (let i = 0; i < discount25Count; i++) {
                    inputTime = Math.round(inputTime * 0.75);
                }
            }
            if (additiveDiscount) {
                inputTime = Math.max(0, inputTime - Math.floor(inputTime * (additiveDiscount / 100)));
            }
            setTimeLeft(inputTime);
            document.getElementById('timer_base').innerText = timeLeft;
            document.getElementById('timer_display').innerText = timeLeft;
        }
        startTimer();
    };

    function startTimer() {
        clearInterval(timer);
        timer = setInterval(() => {
            if (timeLeft > 0) {
                timeLeft--;
                document.getElementById('timer_display').innerText = timeLeft;
            } else {
                clearInterval(timer);
            }
        }, 1000);
    }

    function stopTimer() {
        clearInterval(timer);
    }
</script>
</body>
</html>
